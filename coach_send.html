<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="UTF-8">
		<title>教练直播页面</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<!-- Bootstrap -->
		<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

		<link href="css/coach.css" rel="stylesheet">

		<style type="text/css">
			.showpic{
				position: relative;
				display: block;
				width: 80px;
				height: 80px;
			}
			.showpic .getpic{
				position: absolute;
				left: 0px;
				top:0px;
				width: 100%;
				height: 100%;
				z-index: 1;
				opacity: 0;
			}
			.showpic span{
				position: absolute;
				left: 0px;
				top:0px;
				width: 100%;
				height: 100%;
				background-size: contain;
				z-index: 0;
				background-color: #ccc;
			}

			.showvideo{
				position: relative;
				display: block;
				width: 80px;
				height: 80px;
			}
			.showvideo .getvideo{
				position: absolute;
				left: 0px;
				top:0px;
				width: 100%;
				height: 100%;
				z-index: 1;
				opacity: 0;
			}
			.showvideo video{
				position: absolute;
				left: 0px;
				top:0px;
				width: 100%;
				height: 100%;
				background-size: contain;
				z-index: 0;
				background-color: #ccc;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="coachlive-top">
				<a href="javascript:history.go(-1);" class="back"><i class="iconfont">&#xe609;</i></a>
				<span class="label label-living">进行中</span> 广州惠州一日行
			</div>

			<textarea class="form-control coachlive-textbox" placeholder="这一刻的想法...." maxlength="128" rows="8"></textarea>

			<div class="choose-pic">
				<div class="row">
					<div class="col-xs-6">
						<div class="showpic">
							<input type="file" accept="image/*" capture="camera" class="btn btn-default getpic" value="拍个照" />
							<span class="veiwpic"></span>
						</div>
					</div>
					<div class="col-xs-6">
						<div class="showvideo">
							<input type="file" accept="video/*" capture="camcorder" class="btn btn-default getvideo" value="录个像">
							<video class="veiwvideo" controls="controls" autoplay="autoplay"></video>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script src="js/jquery.min.js"></script>
		<script type="text/javascript">
			$(document).ready(function(){
				// $(".getpic").change(function(){
				// 	$(".showpic").attr("style","background-image:url("+ $(this).val() +")");
				// 	$(".picurl").text($(this).val());
				// });
				// $(".getvideo").change(function(){
				// 	$(".showvideo").attr("style","background-image:url("+ $(this).val() +")");
				// 	$(".videourl").text($(this).val());
				// });

				$(".getvideo").on("change", function(){
					// Get a reference to the fileList
					var files = !!this.files ? this.files : [];

					// If no files were selected, or no FileReader support, return
					if (!files.length || !window.FileReader) return;

					// Only proceed if the selected file is an image
					if (/^image/.test( files[0].type)){

						// Create a new instance of the FileReader
						var reader = new FileReader();

						// Read the local file as a DataURL
						reader.readAsDataURL(files[0]);

						// When loaded, set image data as background of div
						reader.onloadend = function(){

					   $(".veiwvideo").attr("src",this.result);
						 
						}

					}

				});

				$(".getpic").on("change", function(){
					// Get a reference to the fileList
					var files = !!this.files ? this.files : [];

					// If no files were selected, or no FileReader support, return
					if (!files.length || !window.FileReader) return;

					// Only proceed if the selected file is an image
					if (/^image/.test( files[0].type)){

						// Create a new instance of the FileReader
						var reader = new FileReader();

						// Read the local file as a DataURL
						reader.readAsDataURL(files[0]);

						// When loaded, set image data as background of div
						reader.onloadend = function(){

					   $(".veiwpic").css({backgroundImage:"url("+this.result+")",backgroundColor:"#eee"});
						 
						}

					}

				});
			})
		</script>
	</body>
</html>
